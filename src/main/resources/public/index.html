<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ESM Schema Composer</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <script type="text/javascript" src="/js/fabric/Fabric.js"></script>
    <script type="text/javascript" src="/js/fabric/FabricOwl.js"></script>
    <script type="text/javascript" src="/js/SchemaComposerModel.js"></script>
    <script type="text/javascript" src="/js/SchemaComposerView.js"></script>
    <script type="text/javascript" src="/js/SchemaComposerController.js"></script>
    <script type="text/javascript" src="/js/generators/Generators.js"></script>
    <script type="text/javascript" src="/js/generators/Exports.js"></script>
    <script type="text/javascript" src="/js/loaders/DiagramLoader.js"></script>
    <script type="text/javascript" src="/js/loaders/OntologyLoader.js"></script>
    <script type="text/javascript" src="/js/loaders/EnterpriseArchitectLoader.js"></script>
    <!-- temporary solution until EA API supports connector resources TODO check compositions -->
    <script type="text/javascript" src="/ontologies/connectors.js"></script>
</head>
<body>
<div id="Header">
    <h1>ALLIANDER ESM</h1>
    <h2>Schema Composer</h2>
    <ul id="Menu">
        <li onclick="openFilePicker()">Diagram Laden<input id="FileInput" type="file" name="name" style="display: none;" /></li>
        <li onclick="exportDiagram()">Diagram Opslaan</li>
        <li onclick="exportToSVG()">Exporteer SVG</li>
        <li>Handleiding</li>
        <li>Over</li>
        <li>Uitloggen</li>
    </ul>
</div>
<div id="PopupOverlay" onclick="closePopup()">
</div>
<div id="Popup">
    <h1>Generated Schema</h1>
    <pre id="Schema">

    <pre/>
</div>
<div id="Container">
    <div id="Left">
        <h3>Laad een ontologie</h3>
        <label for="IRI">Ontology IRI</label>
        <input type="text" value="" id="IRI" /><input type="submit" value="Laad" onclick="loadOntology()"/>
        <h3>Laad een diagram</h3>
        <label for="baseURI">BaseURI</label>
        <input type="text" id="baseURI"/>
        <label for="username">Username</label>
        <input type="text" id="username" />
        <label for="password">Password</label>
        <input type="password" id="password" />
        <input type="submit" value="Login" onclick="getUserIdentifier()"/>
        <label for="dgGuid">Diagram GUID</label>
        <input type="text" value="" id="dgGuid" />
        <label for="uid">User Identifier</label>
        <input type="text" value="" id="uid" /><input type="submit" value="Laad" onclick="loadEADiagram()"/>
        <h3>Voeg een class toe</h3>
        <div id="ClassListWrapper">
            <label for="ClassInput">Class IRI</label>
            <input type="text" id="ClassInput"/><input type="submit" value="Toevoegen" onclick="addClass()"/>
            <ul id="ClassList"></ul>
        </div>
        <h3>Genereer AVRO schema</h3>
        <div id="RootClassWrapper">
            <label for="RootClass">RootClass IRI</label>
            <input type="text" value="" id="RootClass"/>
            <ul id="RootClassList"></ul>
        </div>
        <label for="Namespace">Namespace</label>
        <input type="text" value="" id="Namespace"/>
        <input type="submit" value="Genereer" onclick="generateAvro()"/>
        <h3>Genereer JSON schema</h3>
        <label for="RootClasses">RootClasses</label>
        <input type="text" id="RootClasses" />
        <label for="JSONNamespace">Namespace</label>
        <input type="text" value="" id="JSONNamespace" />
        <input type="submit" value="Genereer" onclick="generateJSONSchema()" />
    </div>
    <div id="Right">
        <canvas id="Canvas" width="100%" height="100%"></canvas>
    </div>
    <div style="clear: both;"></div>
    <div id="Ontologies">
        <h3>
            Geladen ontologieÃ«n
        </h3>
        <ul id="LoadedOntologies"></ul>
    </div>
    <div id="ClassEditor">
        <h1 id="ClassName"></h1>
        <h3>Voeg een dataProperty toe</h3>
        <div id="ClassAttributeWrapper" class="InputList">
            <label for="ClassAttribute">Property</label>
            <input type="text" value="" id="ClassAttribute" />
            <ul id="ClassAttributeList"></ul>
            <label for="ClassAttributeRange">Range</label>
            <input type="text" value="" id="ClassAttributeRange" />
            <label for="ClassAttributeMin">Cardinality</label>
            <input type="text" value="1" id="ClassAttributeMin" class="cardinality" />
            <input type="text" value="1" id="ClassAttributeMax" class="cardinality" />
            <input type="submit" value="Toevoegen" onclick="addAttribute()"/>
        </div>
        <h3>Voeg een objectProperty toe</h3>
        <div id="ClassRelationWrapper">
            <label for="ClassRelation">Property</label>
            <input type="text" value="" id="ClassRelation" />
            <ul id="ClassRelationList"></ul>
            <label for="ClassRelationRange">Range</label>
            <input type="text" value="" id="ClassRelationRange" />
            <ul id="ClassRelationRangeList"></ul>
            <label for="ClassRelationMin">Cardinality</label>
            <input type="text" value="1" id="ClassRelationMin" class="cardinality" />
            <input type="text" value="1" id="ClassRelationMax" class="cardinality" />
            <input type="submit" value="Toevoegen" onclick="addAssociation()"/>
        </div>
        <h3>Voeg inheritance toe</h3>
        <div id="InheritanceWrapper">
            <label for="SuperClass">SuperClass</label>
            <input type="text" value="" id="SuperClass" />
            <input type="submit" value="Toevoegen" onclick="addInheritance()" />
            <ul id="SuperClassList"></ul>
        </div>
        <div style="margin-top: 25px; font-size: 12px;" onclick="deleteClass()">Verwijder deze class</div>
        <h3>Properties</h3>
        <div id="activeProperties"></div>
        <h3>Associations</h3>
        <div id="activeAssociations"></div>
        <h3>Inheritance</h3>
        <div id="activeInheritance"></div>
    </div>
</div>
</body>
</html>